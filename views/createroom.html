<!DOCTYPE html>
<html lang="en">
<head>
  <title>CreateRoom</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container">
    <script>
        var payload={
        };
        function Onchange(gp,val){
            payload[gp]=val;
        }
    
        function createPayload(){
            console.log(payload);
            fetch("/project/createRoom", {
            method: 'POST', 
            credentials: 'same-origin', 
            headers: {
            'Content-Type': 'application/json'
            },
            referrerPolicy: 'no-referrer', 
            body: JSON.stringify(payload) 
            }).then(res=>res.json())
          .then(data=>{
             console.log(data)
             setErrorMessage(JSON.stringify(data));
          })
        }
        function setErrorMessage(data){
        document.getElementById("mod").innerText=data;
        $('#myModal').modal('show'); 
        }
    
    </script>
  <h2>Create Room</h2>

  <h5 style="color: firebrick;"> *All Fields are important dont leave any empty</h5>
    <div class="form-group">
      <input type="number" class="form-control"  placeholder="Cost of the Room per month" name="email" min=100 max=100000 onchange="Onchange('charge',this.value)" required="true" >
    </div>

    <div data-toggle="buttons">
        <div class="btn-group btn-group-justified">
            <label class="btn btn-default">
                <input type="radio"  onchange="Onchange('type','AC')">AC
            </label>
            <label class="btn btn-default">
                <input type="radio" onchange="Onchange('type','No/AC')">No/AC
            </label>
    </div>
    </div>

    <div data-toggle="buttons">
        <div class="btn-group btn-group-justified">
            <label class="btn btn-default">
                <input type="radio" onchange="Onchange('location',1)">1st Floor
            </label>
            <label class="btn btn-default">
                <input type="radio" onchange="Onchange('location',2)"> 2nd Floor
            </label>
            <label class="btn btn-default">
                <input type="radio" onchange="Onchange('location',3)">3rd Floor
            </label>
            <label class="btn btn-default">
                <input type="radio" onchange="Onchange('location',4)">4th Floor
            </label>
        </div>
    </div>

    <div data-toggle="buttons">
        <div class="btn-group btn-group-justified">
            <label class="btn btn-default">
                <input type="radio" onchange="Onchange('paymentDone','PAID')"> Paid
            </label>
            <label class="btn btn-default">
                <input type="radio" checked="true" onchange="Onchange('paymentDone','NOPAID')"> Not Paid
            </label>
        </div>
    </div>

    <div data-toggle="buttons">
        <div class="btn-group btn-group-justified">
            <label class="btn btn-default" checked>
                <input type="radio" checked onchange="Onchange('available','AVAILABLE')"> Available
            </label>
            <label class="btn btn-default">
                <input type="radio"onchange="Onchange('available','NOAVAILABLE')"> Not Available
            </label>
    </div>
    </div>
    </br>
    <button type="button" class="btn btn-success"  onclick="window.location='home.html'">Go Home page</button>
    <button type="submit" class="btn btn-primary" style="margin-left:90%;" onclick="createPayload()">Submit</button>
    
</div>
<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close " id="btn" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Error Message</h4>
      </div>
      <div class="modal-body">
        <p id=mod></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="window.location='createroom.html'">Close</button>
      </div>
    </div>
    
  </div>
</div>
</body>
</html>
